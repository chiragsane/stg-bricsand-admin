(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+Y3i":function(t,e,i){"use strict";i.r(e),i.d(e,"DataManagementModule",(function(){return pt}));var o=i("ofXK"),n=i("tyNb"),a=i("fXoL"),c=i("bTqV"),r=i("NFeN");function s(t,e){if(1&t&&(a.Ub(0,"div",7),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.lc("routerLink",t.route),a.Cb(1),a.Ac(" ",t.label," ")}}function l(t,e){if(1&t&&(a.Ub(0,"div",3),a.Ub(1,"div",4),a.Ub(2,"span"),a.yc(3),a.Tb(),a.Tb(),a.Ub(4,"div",5),a.xc(5,s,2,2,"div",6),a.Tb(),a.Tb()),2&t){const t=e.$implicit;a.Cb(3),a.zc(t.heading),a.Cb(2),a.lc("ngForOf",t.views)}}let b=(()=>{class t{constructor(){this.availableViews=[{heading:"Product management",views:[{label:"Categories",route:["product-managemnt","categories"]},{label:"Products",route:["product-managemnt","products"]},{label:"Options",route:["product-managemnt","options"]},{label:"Option values",route:["product-managemnt","option-values"]},{label:"Description labels",route:["product-managemnt","description-labels"]},{label:"Specification labels",route:["product-managemnt","specification-labels"]}]},{heading:"SKU workflow",views:[{label:"SKUs",route:""},{label:"SKUs - Area wise Pricing",route:""},{label:"SKU Margin Slab",route:""}]}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-view-selection"]],decls:6,vars:1,consts:[[1,"bsa-component-wrapper"],["class","availableViews",4,"ngFor","ngForOf"],["mat-raised-button",""],[1,"availableViews"],[1,"heading"],[1,"views"],["class","view mat-elevation-z1",3,"routerLink",4,"ngFor","ngForOf"],[1,"view","mat-elevation-z1",3,"routerLink"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.xc(1,l,6,2,"div",1),a.Ub(2,"button",2),a.yc(3,"New workflow"),a.Ub(4,"mat-icon"),a.yc(5,"add"),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(1),a.lc("ngForOf",e.availableViews))},directives:[o.j,c.a,r.a,n.c],styles:['.availableViews[_ngcontent-%COMP%]{margin:40px 0}.availableViews[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{position:relative}.availableViews[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px;padding:0 8px;background-color:#fff}.availableViews[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]:after{content:"";width:100%;border:1px solid var(--bsa-background-dark-contrast);position:absolute;left:0;top:8px;z-index:-1}.availableViews[_ngcontent-%COMP%]   .views[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.availableViews[_ngcontent-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{height:80px;width:100%;margin:8px;display:flex;flex-basis:30%;justify-content:center;align-items:center}.availableViews[_ngcontent-%COMP%]   .views[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]:hover{cursor:pointer;background:rgba(0,0,0,.04)}']}),t})();var d=i("tk/3"),u=i("0IaG"),p=i("3Pt+"),m=i("+0xr"),h=i("0EQZ"),g=i("M9IT"),f=i("bSwM");function y(t,e){1&t&&(a.Ub(0,"div",11),a.yc(1," No records found\n"),a.Tb())}function v(t,e){if(1&t){const t=a.Vb();a.Ub(0,"th",12),a.Ub(1,"button",13),a.cc("click",(function(){a.rc(t);const e=a.gc();return e.deleteSelected.emit(e.selection.selected)})),a.Ub(2,"mat-icon"),a.yc(3,"delete"),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=a.gc();a.Cb(1),a.lc("disabled",!t.selection.hasValue())}}function C(t,e){if(1&t){const t=a.Vb();a.Ub(0,"td",14),a.Ub(1,"mat-checkbox",15),a.cc("click",(function(e){return a.rc(t),e.stopPropagation()}))("change",(function(i){a.rc(t);const o=e.$implicit,n=a.gc();return i?n.selection.toggle(o):null})),a.Tb(),a.Tb()}if(2&t){const t=e.$implicit,i=a.gc();a.Cb(1),a.lc("checked",i.selection.isSelected(t))}}function w(t,e){1&t&&(a.Ub(0,"th",12),a.yc(1,"Actions"),a.Tb())}function U(t,e){if(1&t){const t=a.Vb();a.Ub(0,"td",16),a.cc("click",(function(e){return a.rc(t),e.stopPropagation()})),a.Ub(1,"button",17),a.cc("click",(function(){a.rc(t);const i=e.$implicit;return a.gc().onEditRow(i)})),a.Ub(2,"mat-icon"),a.yc(3,"create"),a.Tb(),a.Tb(),a.Ub(4,"button",17),a.cc("click",(function(){a.rc(t);const i=e.$implicit;return a.gc().onDeleteSelected(i)})),a.Ub(5,"mat-icon"),a.yc(6,"delete"),a.Tb(),a.Tb(),a.Tb()}}function T(t,e){1&t&&a.Pb(0,"tr",18)}function k(t,e){if(1&t){const t=a.Vb();a.Ub(0,"tr",19),a.cc("click",(function(){a.rc(t);const i=e.$implicit;return a.gc().selection.toggle(i)})),a.Tb()}}const O=["*"];let M=(()=>{class t{constructor(){this.isDataEmpty=!1,this.deleteSelected=new a.o,this.editRow=new a.o}ngOnInit(){this.initializeTableData()}ngOnChanges(){this.tableData&&this.initializeTableData()}ngAfterContentInit(){this.columnDefs.forEach(t=>this.table.addColumnDef(t))}initializeTableData(){this.dataSource=new m.k(this.tableData),this.selection=new h.c(!0,[]),this.dataSource.paginator=this.paginator,this.applyFilter()}applyFilter(){this.filterValue||(this.filterValue=""),this.dataSource.filter=this.filterValue.trim().toLowerCase(),this.isDataEmpty=0===this.dataSource.filteredData.length}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}onDeleteSelected(t){this.deleteSelected.emit(t)}onEditRow(t){this.editRow.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-table-wrapper"]],contentQueries:function(t,e,i){var o;1&t&&a.Hb(i,m.c,!1),2&t&&a.oc(o=a.dc())&&(e.columnDefs=o)},viewQuery:function(t,e){var i;1&t&&(a.vc(m.j,!0),a.vc(g.a,!0)),2&t&&(a.oc(i=a.dc())&&(e.table=i.first),a.oc(i=a.dc())&&(e.paginator=i.first))},inputs:{filterValue:"filterValue",tableData:"tableData",displayedColumns:"displayedColumns"},outputs:{deleteSelected:"deleteSelected",editRow:"editRow"},features:[a.Ab],ngContentSelectors:O,decls:13,vars:6,consts:[["class","empty-state",4,"ngIf"],[1,"table-wrapper",3,"hidden"],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","hidePageSize","",3,"pageSize"],[1,"empty-state"],["mat-header-cell",""],["mat-icon-button","",3,"disabled","click"],["mat-cell",""],[3,"checked","click","change"],["mat-cell","",3,"click"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(a.kc(),a.xc(0,y,2,0,"div",0),a.Ub(1,"div",1),a.Ub(2,"table",2),a.Sb(3,3),a.xc(4,v,4,1,"th",4),a.xc(5,C,2,1,"td",5),a.Rb(),a.Sb(6,6),a.xc(7,w,2,0,"th",4),a.xc(8,U,7,0,"td",7),a.Rb(),a.jc(9),a.xc(10,T,1,0,"tr",8),a.xc(11,k,1,0,"tr",9),a.Tb(),a.Pb(12,"mat-paginator",10),a.Tb()),2&t&&(a.lc("ngIf",e.isDataEmpty),a.Cb(1),a.lc("hidden",e.isDataEmpty),a.Cb(1),a.lc("dataSource",e.dataSource),a.Cb(8),a.lc("matHeaderRowDef",e.displayedColumns),a.Cb(1),a.lc("matRowDefColumns",e.displayedColumns),a.Cb(1),a.lc("pageSize",5))},directives:[o.k,m.j,m.c,m.e,m.b,m.g,m.i,g.a,m.d,c.a,r.a,m.a,f.a,m.f,m.h],styles:[".empty-state[_ngcontent-%COMP%]{margin-top:40px;font-size:smaller;text-align:center}"]}),t})();var P=i("9nlD");function x(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Name"),a.Tb())}function A(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.zc(t.name)}}function S(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Image"),a.Tb())}function I(t,e){1&t&&(a.Ub(0,"td",23),a.Pb(1,"img"),a.Tb())}function V(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Description"),a.Tb())}function F(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Ac(" ",t.description," ")}}function D(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Category"),a.Tb())}function _(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.zc(t.category)}}function B(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"GST"),a.Tb())}function L(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Ac("",t.gst,"%")}}function N(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Type"),a.Tb())}function R(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Ac(" ",t.option_type?t.option_type.name:""," ")}}function $(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Priority"),a.Tb())}function j(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.zc(t.priority)}}function q(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Option"),a.Tb())}function z(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.Ac(" ",t.option?t.option.name:""," ")}}function G(t,e){1&t&&(a.Ub(0,"th",22),a.yc(1,"Value"),a.Tb())}function Y(t,e){if(1&t&&(a.Ub(0,"td",23),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.Cb(1),a.zc(t.value)}}const E=["fileInput"],W={categories:{heading:"Categories",displayedColumns:["name","image","description"],dataAPI:"categories.json",deleteAPI:"delete_category",deleteObjectName:"category_id"},products:{heading:"Products",displayedColumns:["name","category","image","gst"],dataAPI:"get_all_products.json",deleteAPI:"delete_product",deleteObjectName:"product_id"},options:{heading:"Options",displayedColumns:["name","type","priority"],dataAPI:"options.json"},"option-values":{heading:"Option Values",displayedColumns:["option","value"],dataAPI:"option_values.json"},"description-labels":{heading:"Description Labels",displayedColumns:["name"],dataAPI:"descriptionlabels.json",deleteAPI:"delete_descriptionlabel",deleteObjectName:"descriptionlabel_id"},"specification-labels":{heading:"Specification Labels",displayedColumns:["name"],dataAPI:"specificationlabels.json",deleteAPI:"delete_specificationlabel",deleteObjectName:"specificationlabel_id"}},X=new a.o;let J=(()=>{class t{constructor(t,e,i,o){this.route=t,this.http=e,this.router=i,this.dialog=o}ngOnInit(){this.currentView=this.route.snapshot.paramMap.get("view");try{this.heading=W[this.currentView].heading,this.displayedColumns=["select",...W[this.currentView].displayedColumns,"actions"],this.getTableData(),this.deleteAPI=W[this.currentView].deleteAPI,this.deleteObjectName=W[this.currentView].deleteObjectName}catch(t){console.error(t)}X.subscribe(()=>this.getTableData())}getTableData(){this.http.get(W[this.currentView].dataAPI).subscribe(t=>{this.tableData=t})}deleteSelected(t){this.dialog.open(Z,{data:{rows:t,heading:this.heading,deleteAPI:this.deleteAPI,deleteObjectName:this.deleteObjectName},width:"480px",maxHeight:"480px",restoreFocus:!1})}editRow(t){this.router.navigate([`edit/${t.id}`],{relativeTo:this.route})}bulkUpload(){this.dialog.open(H,{width:"480px",maxHeight:"480px",restoreFocus:!1})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(n.a),a.Ob(d.b),a.Ob(n.b),a.Ob(u.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-product-managemnt-view"]],decls:51,vars:6,consts:[[1,"bsa-component-wrapper"],["mat-button","","routerLink","../"],[1,"heading"],[1,"utils"],[1,"input-wrapper"],["for","search"],["name","search","type","text",3,"placeholder","ngModel","ngModelChange"],["mat-icon-button",""],["mat-stroked-button","",3,"click"],["mat-raised-button","","routerLink","create"],[3,"tableData","filterValue","displayedColumns","deleteSelected","editRow"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","description"],["matColumnDef","category"],["matColumnDef","gst"],["matColumnDef","type"],["matColumnDef","priority"],["matColumnDef","option"],["matColumnDef","value"],["mat-header-cell",""],["mat-cell",""]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"button",1),a.Ub(2,"mat-icon"),a.yc(3,"arrow_back_ios"),a.Tb(),a.yc(4,"Back "),a.Tb(),a.Ub(5,"div",2),a.yc(6),a.Tb(),a.Ub(7,"div",3),a.Ub(8,"div",4),a.Ub(9,"label",5),a.yc(10,"Search"),a.Tb(),a.Ub(11,"input",6),a.cc("ngModelChange",(function(t){return e.filterValue=t})),a.Tb(),a.Ub(12,"button",7),a.Ub(13,"mat-icon"),a.yc(14,"search"),a.Tb(),a.Tb(),a.Tb(),a.Ub(15,"button",8),a.cc("click",(function(){return e.bulkUpload()})),a.yc(16," Upload"),a.Ub(17,"mat-icon"),a.yc(18,"upgrade"),a.Tb(),a.Tb(),a.Ub(19,"button",9),a.yc(20," Create"),a.Ub(21,"mat-icon"),a.yc(22,"add"),a.Tb(),a.Tb(),a.Tb(),a.Ub(23,"bsa-table-wrapper",10),a.cc("deleteSelected",(function(t){return e.deleteSelected(t)}))("editRow",(function(t){return e.editRow(t)})),a.Sb(24,11),a.xc(25,x,2,0,"th",12),a.xc(26,A,2,1,"td",13),a.Rb(),a.Sb(27,14),a.xc(28,S,2,0,"th",12),a.xc(29,I,2,0,"td",13),a.Rb(),a.Sb(30,15),a.xc(31,V,2,0,"th",12),a.xc(32,F,2,1,"td",13),a.Rb(),a.Sb(33,16),a.xc(34,D,2,0,"th",12),a.xc(35,_,2,1,"td",13),a.Rb(),a.Sb(36,17),a.xc(37,B,2,0,"th",12),a.xc(38,L,2,1,"td",13),a.Rb(),a.Sb(39,18),a.xc(40,N,2,0,"th",12),a.xc(41,R,2,1,"td",13),a.Rb(),a.Sb(42,19),a.xc(43,$,2,0,"th",12),a.xc(44,j,2,1,"td",13),a.Rb(),a.Sb(45,20),a.xc(46,q,2,0,"th",12),a.xc(47,z,2,1,"td",13),a.Rb(),a.Sb(48,21),a.xc(49,G,2,0,"th",12),a.xc(50,Y,2,1,"td",13),a.Rb(),a.Tb(),a.Tb()),2&t&&(a.Cb(6),a.zc(e.heading),a.Cb(5),a.lc("placeholder","Search "+e.heading)("ngModel",e.filterValue),a.Cb(12),a.lc("tableData",e.tableData)("filterValue",e.filterValue)("displayedColumns",e.displayedColumns))},directives:[c.a,n.c,r.a,p.b,p.k,p.n,M,m.c,m.e,m.b,m.d,m.a],styles:["button[mat-button][_ngcontent-%COMP%]{color:var(--bsa-accent)}button[mat-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.heading[_ngcontent-%COMP%]{font-weight:700;margin-top:16px}.utils[_ngcontent-%COMP%]{margin-top:40px;display:flex;align-items:center}.utils[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{flex-grow:1;position:relative;margin:0}.utils[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:37px;width:100%}.utils[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;position:absolute;top:-2px;right:0}.utils[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-left:20px}.cdk-column-name.mat-column-name[_ngcontent-%COMP%]{width:240px}.cdk-column-image.mat-column-image[_ngcontent-%COMP%]{width:100px}.cdk-column-image.mat-column-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;background-color:#d7d7d7}"]}),t})(),Z=(()=>{class t{constructor(t,e,i){this.data=t,this.http=e,this.notificationService=i}ngOnInit(){this.isMultipleRows=this.data.rows instanceof Array}deleteRows(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"}),e={};e[this.data.deleteObjectName]=this.isMultipleRows?this.data.rows.map(t=>t.id):this.data.rows.id,this.http.request("delete",this.data.deleteAPI,{headers:t,body:e}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!1,message:`${this.data.heading} deleted`}),X.emit()})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(u.a),a.Ob(d.b),a.Ob(P.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["ng-component"]],decls:8,vars:1,consts:[["align","end"],["mat-stroked-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(t,e){1&t&&(a.Ub(0,"mat-dialog-content"),a.yc(1),a.Tb(),a.Pb(2,"br"),a.Ub(3,"mat-dialog-actions",0),a.Ub(4,"button",1),a.yc(5,"Cancel"),a.Tb(),a.Ub(6,"button",2),a.cc("click",(function(){return e.deleteRows()})),a.yc(7," Delete "),a.Tb(),a.Tb()),2&t&&(a.Cb(1),a.Ac(" Do you want to delete ",e.isMultipleRows?e.data.rows.length:"selected"," row(s)?\n"))},directives:[u.e,u.c,c.a,u.d],encapsulation:2}),t})(),H=(()=>{class t{constructor(t){this.notificationService=t,this.fileChosen=""}setChosenFile(){const t=this.fileInput.nativeElement.value.split("\\");this.fileChosen=t[t.length-1]}upload(){this.notificationService.notification.next({isPositive:!0,message:"Bulk data uploaded!"})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(P.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var i;1&t&&a.Cc(E,!0),2&t&&a.oc(i=a.dc())&&(e.fileInput=i.first)},decls:25,vars:1,consts:[["href",""],[1,"input-wrapper"],["for","form-input"],["name","form-input","type","file","hidden","",3,"change"],["fileInput",""],["name","form-input","type","text","disabled","","placeholder","Please select a file",3,"value"],["mat-flat-button","","type","button",3,"click"],["align","end"],["mat-stroked-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(t,e){if(1&t){const t=a.Vb();a.Ub(0,"mat-dialog-content"),a.Ub(1,"div"),a.Ub(2,"strong"),a.yc(3,"Bulk upload data"),a.Tb(),a.Tb(),a.Pb(4,"br"),a.Ub(5,"div"),a.yc(6,"See the format of data: "),a.Ub(7,"a",0),a.yc(8,"Sample file"),a.Tb(),a.Tb(),a.Ub(9,"div",1),a.Ub(10,"label",2),a.yc(11,"File upload"),a.Tb(),a.Ub(12,"input",3,4),a.cc("change",(function(){return e.setChosenFile()})),a.Tb(),a.Pb(14,"input",5),a.Ub(15,"button",6),a.cc("click",(function(){return a.rc(t),a.pc(13).click()})),a.yc(16," Upload "),a.Ub(17,"mat-icon"),a.yc(18,"upgrade"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(19,"br"),a.Ub(20,"mat-dialog-actions",7),a.Ub(21,"button",8),a.yc(22,"Cancel"),a.Tb(),a.Ub(23,"button",9),a.cc("click",(function(){return e.upload()})),a.yc(24," Upload "),a.Tb(),a.Tb()}2&t&&(a.Cb(14),a.lc("value",e.fileChosen))},directives:[u.e,c.a,r.a,u.c,u.d],encapsulation:2}),t})();const Q=["fileInput"];let K=(()=>{class t{constructor(t,e,i,o,n){this.formBuilder=t,this.route=e,this.http=i,this.notificationService=o,this.router=n}ngOnInit(){this.categoryForm=this.formBuilder.group({name:new p.d("",[p.s.required]),description:new p.d("",[p.s.required]),imageURL:new p.d({value:"",disabled:!0}),fileName:new p.d("",[p.s.required])}),this.currentMode=this.route.snapshot.paramMap.get("mode"),this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.http.get(`categories/${this.id}`).subscribe(t=>{this.categoryForm.patchValue(t)})}setChosenFile(){const t=this.fileInput.nativeElement.value.split("\\"),e=t[t.length-1];this.categoryForm.patchValue({imageURL:e,fileName:e})}create(){this.http.post("categories",this.categoryForm.value).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category created"}),this.navigateBack()})}update(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"});this.http.patch(`categories/${this.id}`,this.categoryForm.value,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category updated"}),this.navigateBack()})}navigateBack(){this.router.navigate([`${"create"===this.currentMode?"../":"../../"}`],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(p.c),a.Ob(n.a),a.Ob(d.b),a.Ob(P.a),a.Ob(n.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-category-form"]],viewQuery:function(t,e){var i;1&t&&a.Cc(Q,!0),2&t&&a.oc(i=a.dc())&&(e.fileInput=i.first)},decls:27,vars:5,consts:[[1,"bsa-component-wrapper"],[1,"heading"],[1,"bsa-form",3,"formGroup"],[1,"input-wrapper"],["type","text","placeholder","Enter category name","formControlName","name"],["rows","6","placeholder","Add some description","formControlName","description"],["type","file","hidden","",3,"change"],["fileInput",""],["name","form-input","type","text","formControlName","imageURL","placeholder","Please select a file"],["mat-flat-button","","type","button",3,"click"],[1,"action-buttons"],["mat-raised-button","","type","button",3,"disabled","click"],["mat-stroked-button","","type","button",3,"routerLink"]],template:function(t,e){if(1&t){const t=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.yc(2),a.Tb(),a.Ub(3,"form",2),a.Ub(4,"div",3),a.Ub(5,"label"),a.yc(6,"Name"),a.Tb(),a.Pb(7,"input",4),a.Tb(),a.Ub(8,"div",3),a.Ub(9,"label"),a.yc(10,"Description"),a.Tb(),a.Pb(11,"textarea",5),a.Tb(),a.Ub(12,"div",3),a.Ub(13,"label"),a.yc(14,"Image"),a.Tb(),a.Ub(15,"input",6,7),a.cc("change",(function(){return e.setChosenFile()})),a.Tb(),a.Pb(17,"input",8),a.Ub(18,"button",9),a.cc("click",(function(){return a.rc(t),a.pc(16).click()})),a.yc(19," Upload "),a.Ub(20,"mat-icon"),a.yc(21,"upgrade"),a.Tb(),a.Tb(),a.Tb(),a.Ub(22,"div",10),a.Ub(23,"button",11),a.cc("click",(function(){return"create"===e.currentMode?e.create():e.update()})),a.yc(24),a.Tb(),a.Ub(25,"button",12),a.yc(26," Cancel "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}2&t&&(a.Cb(2),a.Ac(" ","create"===e.currentMode?"Create":"Update","\xa0category "),a.Cb(1),a.lc("formGroup",e.categoryForm),a.Cb(20),a.lc("disabled",!e.categoryForm.valid),a.Cb(1),a.Ac(" ","create"===e.currentMode?"Create":"Update"," "),a.Cb(1),a.lc("routerLink","create"===e.currentMode?"../":"../../"))},directives:[p.t,p.l,p.f,p.b,p.k,p.e,c.a,r.a,n.c],styles:[""]}),t})();var tt=i("/1cH"),et=i("FKr1");const it=["fileInput"];function ot(t,e){if(1&t&&(a.Ub(0,"mat-option",19),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.lc("value",t),a.Cb(1),a.Ac(" ",t.name," ")}}let nt=(()=>{class t{constructor(t,e,i,o,n){this.route=t,this.formBuilder=e,this.http=i,this.notificationService=o,this.router=n,this.categories=[],this.suggestions=[]}ngOnInit(){this.currentMode=this.route.snapshot.paramMap.get("mode"),this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.http.get(`categories/1/products/${this.id}`).subscribe(t=>{this.productForm.patchValue(t)}),this.productForm=this.formBuilder.group({category:new p.d("",[p.s.required]),categoryId:new p.d("",[p.s.required]),name:new p.d("",[p.s.required]),gst:new p.d(null,[p.s.required]),imageURL:new p.d({value:"",disabled:!0}),fileName:new p.d("",[p.s.required]),ispriceslabexist:new p.d(!1,[p.s.required])}),this.http.get("categories").subscribe(t=>{this.categories=t,this.suggestions=t}),this.productForm.controls.category.valueChanges.subscribe(t=>{this.suggestions=this.categories.filter(e=>{if(!t.name)return e.name.toLowerCase().includes(t.toLowerCase());this.productForm.patchValue({category:t.name,categoryId:t.id})})})}setCategoryId(t){console.log(t)}setChosenFile(){const t=this.fileInput.nativeElement.value.split("\\"),e=t[t.length-1];this.productForm.patchValue({imageURL:e,fileName:e})}create(){const t=this.productForm.value;this.http.post(`categories/${t.categoryId}/products`,t,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJjbGllbnQiOiJJRWdJZWZQdXVoWTJNR1V1RHloQzdBIiwidG9rZW4iOiI0TFRRbzJoOG5BVGFNRW1hUXYta2JnIiwidWlkIjoidGVzdHVzZXIxQGdtYWlsLmNvbSJ9.g2vZFggxHNqEs3uNIACMMHB2iRttXXoJbaDJbwyxF_o"}}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Product created"}),this.navigateBack()})}update(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"}),e=this.productForm.value;this.http.patch(`categories/${e.categoryId}/products/${this.id}`,e,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Product updated"}),this.navigateBack()})}navigateBack(){this.router.navigate([`${"create"===this.currentMode?"../":"../../"}`],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(n.a),a.Ob(p.c),a.Ob(d.b),a.Ob(P.a),a.Ob(n.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-product-form"]],viewQuery:function(t,e){var i;1&t&&a.Cc(it,!0),2&t&&a.oc(i=a.dc())&&(e.fileInput=i.first)},decls:38,vars:7,consts:[[1,"bsa-component-wrapper"],[1,"heading"],[1,"bsa-form",3,"formGroup"],[1,"input-wrapper"],["type","text","placeholder","Search for a category","formControlName","category",3,"matAutocomplete"],["autocomplete",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter product name","formControlName","name"],["type","number","placeholder","Enter GST (in %)","formControlName","gst"],["type","file","hidden","",3,"change"],["fileInput",""],["name","form-input","type","text","formControlName","imageURL","placeholder","Please select a file"],["mat-flat-button","","type","button",3,"click"],["formControlName","ispriceslabexist"],[1,"action-buttons"],["mat-raised-button","","type","button",3,"disabled","click"],["mat-stroked-button","","type","button",3,"routerLink"],[3,"value"]],template:function(t,e){if(1&t){const t=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.yc(2),a.Tb(),a.Ub(3,"form",2),a.Ub(4,"div",3),a.Ub(5,"label"),a.yc(6,"Category"),a.Tb(),a.Pb(7,"input",4,5),a.Ub(9,"mat-autocomplete",6,7),a.cc("optionSelected",(function(t){return e.setCategoryId(t)})),a.xc(11,ot,2,2,"mat-option",8),a.Tb(),a.Tb(),a.Ub(12,"div",3),a.Ub(13,"label"),a.yc(14,"Name"),a.Tb(),a.Pb(15,"input",9),a.Tb(),a.Ub(16,"div",3),a.Ub(17,"label"),a.yc(18,"GST"),a.Tb(),a.Pb(19,"input",10),a.Tb(),a.Ub(20,"div",3),a.Ub(21,"label"),a.yc(22,"Image"),a.Tb(),a.Ub(23,"input",11,12),a.cc("change",(function(){return e.setChosenFile()})),a.Tb(),a.Pb(25,"input",13),a.Ub(26,"button",14),a.cc("click",(function(){return a.rc(t),a.pc(24).click()})),a.yc(27," Upload "),a.Ub(28,"mat-icon"),a.yc(29,"upgrade"),a.Tb(),a.Tb(),a.Tb(),a.Ub(30,"div",3),a.Ub(31,"mat-checkbox",15),a.yc(32," Enable margin slab "),a.Tb(),a.Tb(),a.Ub(33,"div",16),a.Ub(34,"button",17),a.cc("click",(function(){return"create"===e.currentMode?e.create():e.update()})),a.yc(35),a.Tb(),a.Ub(36,"button",18),a.yc(37," Cancel "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=a.pc(10);a.Cb(2),a.Ac(" ","create"===e.currentMode?"Create":"Update","\xa0product "),a.Cb(1),a.lc("formGroup",e.productForm),a.Cb(4),a.lc("matAutocomplete",t),a.Cb(4),a.lc("ngForOf",e.suggestions),a.Cb(23),a.lc("disabled",!e.productForm.valid),a.Cb(1),a.Ac(" ","create"===e.currentMode?"Create":"Update"," "),a.Cb(1),a.lc("routerLink","create"===e.currentMode?"../":"../../")}},directives:[p.t,p.l,p.f,p.b,tt.c,p.k,p.e,tt.a,o.j,p.o,c.a,r.a,f.a,n.c,et.k],styles:[".suggestions[_ngcontent-%COMP%]{position:absolute;background:#fff;padding:8px 0;z-index:1;width:100%}.suggestions[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]{padding:4px 8px}.suggestions[_ngcontent-%COMP%]   .suggestion[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.04);cursor:pointer}"]}),t})();const at=["fileInput"];function ct(t,e){if(1&t&&(a.Ub(0,"mat-option",13),a.yc(1),a.Tb()),2&t){const t=e.$implicit;a.lc("value",t.id),a.Cb(1),a.Ac(" ",t.name," ")}}let rt=(()=>{class t{constructor(t,e,i,o,n){this.formBuilder=t,this.route=e,this.http=i,this.notificationService=o,this.router=n}ngOnInit(){this.http.get("get_option_types").subscribe(t=>{this.availableOptionTypes=t}),this.categoryForm=this.formBuilder.group({name:new p.d("",[p.s.required]),option_type_id:new p.d({value:"",readonly:!0}),type:new p.d("",[p.s.required]),priority:new p.d("",[p.s.required])}),this.currentMode=this.route.snapshot.paramMap.get("mode"),this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.http.get(`categories/${this.id}`).subscribe(t=>{this.categoryForm.patchValue(t)})}log(t){console.log(t)}setChosenFile(){const t=this.fileInput.nativeElement.value.split("\\"),e=t[t.length-1];this.categoryForm.patchValue({imageURL:e,fileName:e})}create(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"});this.http.post("categories",this.categoryForm.value,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category created"}),this.navigateBack()})}update(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"});this.http.patch(`categories/${this.id}`,this.categoryForm.value,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category updated"}),this.navigateBack()})}navigateBack(){this.router.navigate([`${"create"===this.currentMode?"../":"../../"}`],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(p.c),a.Ob(n.a),a.Ob(d.b),a.Ob(P.a),a.Ob(n.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-option-form"]],viewQuery:function(t,e){var i;1&t&&a.Cc(at,!0),2&t&&a.oc(i=a.dc())&&(e.fileInput=i.first)},decls:25,vars:7,consts:[[1,"bsa-component-wrapper"],[1,"heading"],[1,"bsa-form",3,"formGroup"],[1,"input-wrapper"],["type","text","placeholder","Enter option name","formControlName","name"],["type","text","placeholder","Select option type","formControlName","option_type_id",3,"matAutocomplete","mouseover"],["input",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","number","placeholder","Set priority","formControlName","priority"],[1,"action-buttons"],["mat-raised-button","","type","button",3,"disabled","click"],["mat-stroked-button","","type","button",3,"routerLink"],[3,"value"]],template:function(t,e){if(1&t){const t=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",1),a.yc(2),a.Tb(),a.Ub(3,"form",2),a.Ub(4,"div",3),a.Ub(5,"label"),a.yc(6,"Name"),a.Tb(),a.Pb(7,"input",4),a.Tb(),a.Ub(8,"div",3),a.Ub(9,"label"),a.yc(10,"Type"),a.Tb(),a.Ub(11,"input",5,6),a.cc("mouseover",(function(){return a.rc(t),a.pc(12).click()})),a.Tb(),a.Ub(13,"mat-autocomplete",null,7),a.xc(15,ct,2,2,"mat-option",8),a.Tb(),a.Tb(),a.Ub(16,"div",3),a.Ub(17,"label"),a.yc(18,"Priority"),a.Tb(),a.Pb(19,"input",9),a.Tb(),a.Ub(20,"div",10),a.Ub(21,"button",11),a.cc("click",(function(){return"create"===e.currentMode?e.create():e.update()})),a.yc(22),a.Tb(),a.Ub(23,"button",12),a.yc(24," Cancel "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&t){const t=a.pc(14);a.Cb(2),a.Ac(" ","create"===e.currentMode?"Create":"Update","\xa0option "),a.Cb(1),a.lc("formGroup",e.categoryForm),a.Cb(8),a.lc("matAutocomplete",t),a.Cb(4),a.lc("ngForOf",e.availableOptionTypes),a.Cb(6),a.lc("disabled",!e.categoryForm.valid),a.Cb(1),a.Ac(" ","create"===e.currentMode?"Create":"Update"," "),a.Cb(1),a.lc("routerLink","create"===e.currentMode?"../":"../../")}},directives:[p.t,p.l,p.f,p.b,p.k,p.e,tt.c,tt.a,o.j,p.o,c.a,n.c,et.k],styles:[""]}),t})(),st=(()=>{class t{constructor(t,e,i,o,n){this.formBuilder=t,this.route=e,this.http=i,this.notificationService=o,this.router=n}ngOnInit(){this.categoryForm=this.formBuilder.group({name:new p.d("",[p.s.required])}),this.currentMode=this.route.snapshot.paramMap.get("mode"),this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.http.get(`categories/${this.id}`).subscribe(t=>{this.categoryForm.patchValue(t)})}create(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"});this.http.post("categories",this.categoryForm.value,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category created"}),this.navigateBack()})}update(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"});this.http.patch(`categories/${this.id}`,this.categoryForm.value,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category updated"}),this.navigateBack()})}navigateBack(){this.router.navigate([`${"create"===this.currentMode?"../":"../../"}`],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(p.c),a.Ob(n.a),a.Ob(d.b),a.Ob(P.a),a.Ob(n.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-description-label-form"]],decls:13,vars:5,consts:[[1,"bsa-component-wrapper"],[1,"heading"],[1,"bsa-form",3,"formGroup"],[1,"input-wrapper"],["type","text","placeholder","Enter description label","formControlName","name"],[1,"action-buttons"],["mat-raised-button","","type","button",3,"disabled","click"],["mat-stroked-button","","type","button",3,"routerLink"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.yc(2),a.Tb(),a.Ub(3,"form",2),a.Ub(4,"div",3),a.Ub(5,"label"),a.yc(6,"Name"),a.Tb(),a.Pb(7,"input",4),a.Tb(),a.Ub(8,"div",5),a.Ub(9,"button",6),a.cc("click",(function(){return"create"===e.currentMode?e.create():e.update()})),a.yc(10),a.Tb(),a.Ub(11,"button",7),a.yc(12," Cancel "),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Ac(" ","create"===e.currentMode?"Create":"Update","\xa0description label "),a.Cb(1),a.lc("formGroup",e.categoryForm),a.Cb(6),a.lc("disabled",!e.categoryForm.valid),a.Cb(1),a.Ac(" ","create"===e.currentMode?"Create":"Update"," "),a.Cb(1),a.lc("routerLink","create"===e.currentMode?"../":"../../"))},directives:[p.t,p.l,p.f,p.b,p.k,p.e,c.a,n.c],styles:[""]}),t})(),lt=(()=>{class t{constructor(t,e,i,o,n){this.formBuilder=t,this.route=e,this.http=i,this.notificationService=o,this.router=n}ngOnInit(){this.categoryForm=this.formBuilder.group({name:new p.d("",[p.s.required])}),this.currentMode=this.route.snapshot.paramMap.get("mode"),this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.http.get(`categories/${this.id}`).subscribe(t=>{this.categoryForm.patchValue(t)})}create(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"});this.http.post("categories",this.categoryForm.value,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category created"}),this.navigateBack()})}update(){const t=new d.e({"token-type":"Bearer","access-token":"OjwlDWVAkLMenZzBhLb6pA",client:"u8q7AYt2BXYdV5cnqppldw",uid:"testuser1@gmail.com"});this.http.patch(`categories/${this.id}`,this.categoryForm.value,{headers:t}).subscribe(t=>{console.log(t),this.notificationService.notification.next({isPositive:!0,message:"Category updated"}),this.navigateBack()})}navigateBack(){this.router.navigate([`${"create"===this.currentMode?"../":"../../"}`],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(p.c),a.Ob(n.a),a.Ob(d.b),a.Ob(P.a),a.Ob(n.b))},t.\u0275cmp=a.Ib({type:t,selectors:[["bsa-specification-label-form"]],decls:13,vars:5,consts:[[1,"bsa-component-wrapper"],[1,"heading"],[1,"bsa-form",3,"formGroup"],[1,"input-wrapper"],["type","text","placeholder","Enter specification label","formControlName","name"],[1,"action-buttons"],["mat-raised-button","","type","button",3,"disabled","click"],["mat-stroked-button","","type","button",3,"routerLink"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.yc(2),a.Tb(),a.Ub(3,"form",2),a.Ub(4,"div",3),a.Ub(5,"label"),a.yc(6,"Name"),a.Tb(),a.Pb(7,"input",4),a.Tb(),a.Ub(8,"div",5),a.Ub(9,"button",6),a.cc("click",(function(){return"create"===e.currentMode?e.create():e.update()})),a.yc(10),a.Tb(),a.Ub(11,"button",7),a.yc(12," Cancel "),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.Ac(" ","create"===e.currentMode?"Create":"Update","\xa0specification label "),a.Cb(1),a.lc("formGroup",e.categoryForm),a.Cb(6),a.lc("disabled",!e.categoryForm.valid),a.Cb(1),a.Ac(" ","create"===e.currentMode?"Create":"Update"," "),a.Cb(1),a.lc("routerLink","create"===e.currentMode?"../":"../../"))},directives:[p.t,p.l,p.f,p.b,p.k,p.e,c.a,n.c],styles:[""]}),t})();const bt=[{path:"",component:b},{path:"product-managemnt/:view",component:J},{path:"product-managemnt/categories/:mode",component:K},{path:"product-managemnt/categories/:mode/:id",component:K},{path:"product-managemnt/products/:mode",component:nt},{path:"product-managemnt/products/:mode/:id",component:nt},{path:"product-managemnt/options/:mode",component:rt},{path:"product-managemnt/options/:mode/:id",component:rt},{path:"product-managemnt/description-labels/:mode",component:st},{path:"product-managemnt/description-labels/:mode/:id",component:st},{path:"product-managemnt/specification-labels/:mode",component:lt},{path:"product-managemnt/specification-labels/:mode/:id",component:lt},{path:"**",redirectTo:"",component:b}];let dt=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[n.e.forChild(bt)],n.e]}),t})();var ut=i("PCNd");let pt=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(e){return new(e||t)},imports:[[o.c,ut.a,dt]]}),t})()}}]);